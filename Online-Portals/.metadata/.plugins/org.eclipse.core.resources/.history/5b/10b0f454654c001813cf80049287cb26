package test.java;

import java.io.IOException;
import java.text.ParseException;

import main.java.nativeFunctions.Browser;
import main.java.nativeFunctions.TestBase;
import main.java.pageObjects.HomePage;
import main.java.pageObjects.LoginUPA;
import main.java.pageObjects.MaintainEnrollment;
import main.java.pageObjects.OptumIdLoginPage;
import main.java.pageObjects.SplashPage3;
import main.java.pageObjects.UPARegistrationPage;

import org.testng.annotations.Test;

public class TestUPAHomeTab extends TestBase {
	
	
	
	@Test(priority=5,description="Verifies functionality for Resources Links for Admin User")
	 void testUPALoginAdminResourcesLink() throws IOException, InterruptedException 
  {
	   String userType="PROV";
	   String accessType="Admin";
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
       SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
	   home.VerifyResourcesLinks();
	   home.logOutFromUPA();     
  }
	
	
	@Test(priority=5,description="Verifies functionality for Resources Links for General User")
	 void testUPALoginGeneralResourcesLink() throws IOException, InterruptedException 
 {
	   String userType="Provider";
	   String accessType="Gen";
	   
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
       SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
	   home.VerifyResourcesLinks();
	   home.logOutFromUPA(); 
 }
	
	@Test(priority=6,description="Verifies News and info section after provider is logged in for Admin users")
	 void testUPAAdminHomeNewsAndInformation() throws InterruptedException, IOException 
     {
	   String userType="Provider";
	   String accessType="Admin";
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
       SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
	   home.verifyWelcomeScreen();
	   home.verifyNewsSectionIsDisplayed();
	   home.VerifyAllTabsAreDisplayedAfterSelectingTin(accessType);
     }
	
	@Test(priority=6,description="Verifies News and info section after provider is logged in for General users")
	 void testUPAGeneralHomeNewsAndInformation() throws InterruptedException, IOException 
     {
	   String userType="Provider";
	   String accessType="Gen";
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
       SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
	   home.verifyWelcomeScreen();
	   home.verifyNewsSectionIsDisplayed();
	   home.VerifyAllTabsAreDisplayedAfterSelectingTin(accessType);
     }
	
	
	@Test(priority=7,description="Verifies Login validations negative scenarios")
	 void testUPALoginValidations() throws IOException 
     {   
	   int excelRowNo=4;
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
	   
	   //Correct UserName and incorrect Password
       loginPage.doInvalidLoginAndVerifyValidation(excelRowNo);  
      
       excelRowNo=5;
       //Incorrect username and correct Password
       loginPage.doInvalidLoginAndVerifyValidation(excelRowNo); 
      }
	
	@Test(priority=7,description="Verifies Provider_TIN_Selection_Dropdown for Admin")
	 void testUPAAdminTinDropdown() throws IOException, InterruptedException, ParseException 
    {   
	   String userType="Provider";
	   String accessType="Admin";
	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
	   LoginUPA loginPage=new LoginUPA(testConfig);
	   SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
	   home.verifyWelcomeScreen().verifyAssociatedTins();
	   home.selectTin();
	   home.clickMaintainEnrollmentTab().verifyOrgBankAccountInfo().verifyOrgInfoOfSelectedTin();	 
	  }
	
	/*
	 * Ask Prashant about General functionality, he is not able to see bank info
	 */
//	@Test(priority=7,description="Verifies Provider_TIN_Selection_Dropdown for General Users")
//	 void testUPAGeneralTinDropdown() throws IOException, InterruptedException, ParseException 
//{   
//	   String userType="Provider";
//	   String accessType="Gen";
//	   UPARegistrationPage registrationPage = new UPARegistrationPage(testConfig);
//	   LoginUPA loginPage=new LoginUPA(testConfig);
//	   SplashPage3 splashPage3=loginPage.doLogin(userType,accessType);
//	   OptumIdLoginPage optumIDLoginPage=splashPage3.clickSignInWithOptumId();
//	   HomePage home=optumIDLoginPage.loginWithOptumID(userType,accessType);
//	   home.verifyWelcomeScreen().verifyAssociatedTins();
//	   home.selectTin();
//	   home.clickMaintainEnrollmentTab().verifyOrgBankAccountInfo().verifyOrgInfoOfSelectedTin();	 
//}
}
