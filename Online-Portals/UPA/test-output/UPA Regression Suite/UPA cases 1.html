<html>
<head>
<title>TestNG:  UPA cases 1</title>
<link href="../testng.css" rel="stylesheet" type="text/css" />
<link href="../my-testng.css" rel="stylesheet" type="text/css" />

<style type="text/css">
.log { display: none;} 
.stack-trace { display: none;} 
</style>
<script type="text/javascript">
<!--
function flip(e) {
  current = e.style.display;
  if (current == 'block') {
    e.style.display = 'none';
    return 0;
  }
  else {
    e.style.display = 'block';
    return 1;
  }
}

function toggleBox(szDivId, elem, msg1, msg2)
{
  var res = -1;  if (document.getElementById) {
    res = flip(document.getElementById(szDivId));
  }
  else if (document.all) {
    // this is the way old msie versions work
    res = flip(document.all[szDivId]);
  }
  if(elem) {
    if(res == 0) elem.innerHTML = msg1; else elem.innerHTML = msg2;
  }

}

function toggleAllBoxes() {
  if (document.getElementsByTagName) {
    d = document.getElementsByTagName('div');
    for (i = 0; i < d.length; i++) {
      if (d[i].className == 'log') {
        flip(d[i]);
      }
    }
  }
}

// -->
</script>

</head>
<body>
<h2 align='center'>UPA cases 1</h2><table border='1' align="center">
<tr>
<td>Tests passed/Failed/Skipped:</td><td>1/0/0</td>
</tr><tr>
<td>Started on:</td><td>Wed Feb 21 13:10:55 IST 2018</td>
</tr>
<tr><td>Total time:</td><td>73 seconds (73266 ms)</td>
</tr><tr>
<td>Included groups:</td><td></td>
</tr><tr>
<td>Excluded groups:</td><td></td>
</tr>
</table><p/>
<small><i>(Hover the method name to see the test class name)</i></small><p/>
<table width='100%' border='1' class='invocation-passed'>
<tr><td colspan='4' align='center'><b>PASSED TESTS</b></td></tr>
<tr><td><b>Test method</b></td>
<td width="30%"><b>Exception</b></td>
<td width="10%"><b>Time (seconds)</b></td>
<td><b>Instance</b></td>
</tr>
<tr>
<td title='test.java.TestViewPayments.testUPAViewPaymentsSearchFilters()'><b>testUPAViewPaymentsSearchFilters</b><br>Test class: test.java.TestViewPayments<br>Test method: Verifies payment records for different tenure<br/>
<a href="#Output-1804441305" onClick='toggleBox("Output-1804441305", this, "Show output", "Hide output");'>Show output</a>

<a href="#Output-1804441305" onClick="toggleAllBoxes();">Show all outputs</a>
<div class='log' id="Output-1804441305">
<font color='Black'>Navigated to UPA</font></br><br/>
<font color='Black'>Username entered</font></br><br/>
<font color='Black'>Password entered</font></br><br/>
<font color='Black'>Clicked Login button</font></br><br/>
<font color='Green'>Verified Sign in with optum id link is present on the page</font></br><br/>
<font color='Black'>Clicked Sign in with optum id</font></br><br/>
<font color='Green'>Verified Optum id Textbox is present on the page</font></br><br/>
<font color='Black'>Entered Optum ID</font></br><br/>
<font color='Black'>Entered Optum ID password</font></br><br/>
<font color='Black'>Clicked Sign In</font></br><br/>
<font color='Black'>Waiting for 10 seconds</font></br><br/>
<font color='Black'>Waiting for 3 seconds</font></br><br/>
<font color='Black'>SelectSelect Tin in dropdownfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>Clicked View Payments Tab</font></br><br/>
<font color='Green'>Verified Quick Search dropdown is present on the page</font></br><br/>
<font color='Green'>Passed comparison of Selected Option Expected was : Show All Actual is : Show All</font></br><br/>
<font color='Green'>Passed comparison of Selected Option Expected was : Show All Actual is : Show All</font></br><br/>
<font color='Green'>Passed comparison of Selected Option Expected was : Last 30 days Actual is : Last 30 days</font></br><br/>
<font color='Green'>Passed comparison of Selected Option Expected was : Active Only Actual is : Active Only</font></br><br/>
<font color='Black'>SelectArchived Only Paymentsfrom dropdown</font></br><br/>
<font color='Green'>Verified Search Results div is present on the page</font></br><br/>
<font color='Black'>Retrieve all the Options present for this specified Select WebElement</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 0 Expected was : Last 30 days Actual is : Last 30 days</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 1 Expected was : Last 60 days Actual is : Last 60 days</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 2 Expected was : Last 90 days Actual is : Last 90 days</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 3 Expected was : Last 4-6 months Actual is : Last 4-6 months</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 4 Expected was : Last 6-9 months Actual is : Last 6-9 months</font></br><br/>
<font color='Green'>Passed comparison of dropdown option 5 Expected was : Last 9-13 months Actual is : Last 9-13 months</font></br><br/>
<font color='Green'>Verified Quick Search dropdown is present on the page</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Last 4-6 monthsfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Read:-'C:\TestAutomation\upa-portal\UPA\DataFile.xlsx', Sheet:- 'SQL'</font></br><br/>
<font color=''>Executing the query - 'select COUNT(*)  AS RECORD_COUNT from
  (SELECT  DISTINCT SCT.UCP_CONSL_PAY_NBR,
    SCT.CP_ARCHV_IND,
    SCT.CPD_CHK_NBR,
    SCT.CPD_CHK_DT,
    SCT.NR_PAY_METH_CD,
    SCT.NR_RET_DT,
    SCT.NR_RET_REASON_CD,
    SCT.NR_RET_STS_CD,
    SCT.NR_RET_TYP_CD,
    SCT.PYR_SEC_PAYR_ID,
    SCT.CP_PAY_STS_TYP_ID,
    SCT.RN_REORIG_NACHA_ID,
    SCT.RN_CHECK_NBR,
    SCT.RN_SETL_DT,
    SCT.RN_REORIG_STS_CD,
    SCT.RN_RN_TRACE_NBR,
    SCT.CP_TRACE_NBR,
    SCT.PAYR_SCHM_NM,
    SCT.CP_PROXY_ID,
    SCT.CP_PAY_METH_CD,
    SCT.CP_PAY_STS_TYP_DTTM,
    SCT.CP_CONSL_AMT,
    SCT.CP_DSPL_CONSL_PAY_NBR,
    SCT.PROV_NPI_NBR,
    SCT.CP_SETL_DT,
    SCT.CP_PAYMENT_TYPE_INDICATOR,
    SCT.PROV_KEY_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.NR_RET_REASON_DESC,
    SCT.UCP_ORIG_BPR01_CD,
    pyr.PAYR_DSPL_NM,
    pyr.PAYR_835_ID,
    BA.BNK_NM,
    pm.PAY_METH_SHRT_DESC,
    pm.PAY_METH_DESC,
    pst.TYP_DESC
FROM
    ole.SRCH_CONSOL_TBL SCT
LEFT JOIN
    ole.payer pyr
ON
    pyr.PAYR_835_ID = SCT.PYR_SEC_PAYR_ID
LEFT JOIN
    ole.PAYER_BANKING_ACCOUNT BA
ON
    BA.PAYR_BNK_ACCT_ID = sct.CP_PAYR_BNK_ACCT_ID
LEFT JOIN
    ole.pay_meth pm
ON
    pm.PAY_METH_CD = SCT.CP_PAY_METH_CD
LEFT JOIN
    OLE.PAY_STS_TYP pst
ON
    pst.PAY_STS_TYP_ID = SCT.CP_PAY_STS_TYP_ID
LEFT JOIN
    OLE.EPRA_STATUS epra
ON
    epra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND epra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
LEFT JOIN
    OLE.PPRA_STATUS ppra
ON
    ppra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND ppra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
WHERE
    SCT.PROV_TAX_ID_NBR = '010640813'
AND sct.CP_SETL_DT >=   '2017-08-21' 
AND sct.CP_SETL_DT <= '2017-11-21'
AND SCT.UCP_UCONSL_PROC_IND = 'Y'
AND (
        epra.EPRA_STATUS_ID IS NULL
    OR  epra.EPRA_STATUS_ID =
        (
            SELECT
                MAX(epra1.EPRA_STATUS_ID)
            FROM
                OLE.EPRA_STATUS epra1
            WHERE
                epra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND epra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND (
        ppra.PPRA_STATUS_ID IS NULL
    OR  ppra.PPRA_STATUS_ID =
        (
            SELECT
                MAX(ppra1.PPRA_STATUS_ID)
            FROM
                OLE.PPRA_STATUS ppra1
            WHERE
                ppra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND ppra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND sct.PAYR_SCHM_NM IN ('PP009',
                         'PP008',
                         'PP004',
                         'PP031',
                         'PP007',
                         'PP002',
                         'PP042',
                         'PP038',
                         'PP041',
                         'PP023',
                         'PP025',
                         'PP035',
                         'PP036',
                         'PP034',
                         'PP029',
                         'PP015',
                         'PP014',
                         'PP001',
                         'PP016')
AND sct.PYR_SEC_PAYR_ID IN ('37602',
                            '95467',
                            '36273',
                            '81779',
                            '06111',
                            '19402',
                            '94265',
                            '66214',
                            'ECHOH',
                            '81400',
                            '07689',
                            'SCMS1',
                            '62952',
                            '77082',
                            'UMR01',
                            'TEX01',
                            '87726',
                            '99726',
                            '04567' ) )'</font></br><br/>
<font color='Black'>Connecting to Stage DB:-jdbc:db2://dbsps0011:50000/PPSPS</font></br><br/>
<font color='Black'>Connection succeeded</font></br><br/>
<font color='Green'>Record Count is not present</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Last 90 daysfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color=''>Executing the query - 'select COUNT(*)  AS RECORD_COUNT from
  (SELECT  DISTINCT SCT.UCP_CONSL_PAY_NBR,
    SCT.CP_ARCHV_IND,
    SCT.CPD_CHK_NBR,
    SCT.CPD_CHK_DT,
    SCT.NR_PAY_METH_CD,
    SCT.NR_RET_DT,
    SCT.NR_RET_REASON_CD,
    SCT.NR_RET_STS_CD,
    SCT.NR_RET_TYP_CD,
    SCT.PYR_SEC_PAYR_ID,
    SCT.CP_PAY_STS_TYP_ID,
    SCT.RN_REORIG_NACHA_ID,
    SCT.RN_CHECK_NBR,
    SCT.RN_SETL_DT,
    SCT.RN_REORIG_STS_CD,
    SCT.RN_RN_TRACE_NBR,
    SCT.CP_TRACE_NBR,
    SCT.PAYR_SCHM_NM,
    SCT.CP_PROXY_ID,
    SCT.CP_PAY_METH_CD,
    SCT.CP_PAY_STS_TYP_DTTM,
    SCT.CP_CONSL_AMT,
    SCT.CP_DSPL_CONSL_PAY_NBR,
    SCT.PROV_NPI_NBR,
    SCT.CP_SETL_DT,
    SCT.CP_PAYMENT_TYPE_INDICATOR,
    SCT.PROV_KEY_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.NR_RET_REASON_DESC,
    SCT.UCP_ORIG_BPR01_CD,
    pyr.PAYR_DSPL_NM,
    pyr.PAYR_835_ID,
    BA.BNK_NM,
    pm.PAY_METH_SHRT_DESC,
    pm.PAY_METH_DESC,
    pst.TYP_DESC
FROM
    ole.SRCH_CONSOL_TBL SCT
LEFT JOIN
    ole.payer pyr
ON
    pyr.PAYR_835_ID = SCT.PYR_SEC_PAYR_ID
LEFT JOIN
    ole.PAYER_BANKING_ACCOUNT BA
ON
    BA.PAYR_BNK_ACCT_ID = sct.CP_PAYR_BNK_ACCT_ID
LEFT JOIN
    ole.pay_meth pm
ON
    pm.PAY_METH_CD = SCT.CP_PAY_METH_CD
LEFT JOIN
    OLE.PAY_STS_TYP pst
ON
    pst.PAY_STS_TYP_ID = SCT.CP_PAY_STS_TYP_ID
LEFT JOIN
    OLE.EPRA_STATUS epra
ON
    epra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND epra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
LEFT JOIN
    OLE.PPRA_STATUS ppra
ON
    ppra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND ppra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
WHERE
    SCT.PROV_TAX_ID_NBR = '010640813'
AND sct.CP_SETL_DT >=   '2017-11-23' 
AND sct.CP_SETL_DT <= '2018-02-21'
AND SCT.UCP_UCONSL_PROC_IND = 'Y'
AND (
        epra.EPRA_STATUS_ID IS NULL
    OR  epra.EPRA_STATUS_ID =
        (
            SELECT
                MAX(epra1.EPRA_STATUS_ID)
            FROM
                OLE.EPRA_STATUS epra1
            WHERE
                epra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND epra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND (
        ppra.PPRA_STATUS_ID IS NULL
    OR  ppra.PPRA_STATUS_ID =
        (
            SELECT
                MAX(ppra1.PPRA_STATUS_ID)
            FROM
                OLE.PPRA_STATUS ppra1
            WHERE
                ppra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND ppra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND sct.PAYR_SCHM_NM IN ('PP009',
                         'PP008',
                         'PP004',
                         'PP031',
                         'PP007',
                         'PP002',
                         'PP042',
                         'PP038',
                         'PP041',
                         'PP023',
                         'PP025',
                         'PP035',
                         'PP036',
                         'PP034',
                         'PP029',
                         'PP015',
                         'PP014',
                         'PP001',
                         'PP016')
AND sct.PYR_SEC_PAYR_ID IN ('37602',
                            '95467',
                            '36273',
                            '81779',
                            '06111',
                            '19402',
                            '94265',
                            '66214',
                            'ECHOH',
                            '81400',
                            '07689',
                            'SCMS1',
                            '62952',
                            '77082',
                            'UMR01',
                            'TEX01',
                            '87726',
                            '99726',
                            '04567' ) )'</font></br><br/>
<font color='Black'>Connecting to Stage DB:-jdbc:db2://dbsps0011:50000/PPSPS</font></br><br/>
<font color='Black'>Connection succeeded</font></br><br/>
<font color='Green'>Passed comparison of Number of records in view payments Expected was : 35 Actual is : 35</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Last 30 daysfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color=''>Executing the query - 'select COUNT(*)  AS RECORD_COUNT from
  (SELECT  DISTINCT SCT.UCP_CONSL_PAY_NBR,
    SCT.CP_ARCHV_IND,
    SCT.CPD_CHK_NBR,
    SCT.CPD_CHK_DT,
    SCT.NR_PAY_METH_CD,
    SCT.NR_RET_DT,
    SCT.NR_RET_REASON_CD,
    SCT.NR_RET_STS_CD,
    SCT.NR_RET_TYP_CD,
    SCT.PYR_SEC_PAYR_ID,
    SCT.CP_PAY_STS_TYP_ID,
    SCT.RN_REORIG_NACHA_ID,
    SCT.RN_CHECK_NBR,
    SCT.RN_SETL_DT,
    SCT.RN_REORIG_STS_CD,
    SCT.RN_RN_TRACE_NBR,
    SCT.CP_TRACE_NBR,
    SCT.PAYR_SCHM_NM,
    SCT.CP_PROXY_ID,
    SCT.CP_PAY_METH_CD,
    SCT.CP_PAY_STS_TYP_DTTM,
    SCT.CP_CONSL_AMT,
    SCT.CP_DSPL_CONSL_PAY_NBR,
    SCT.PROV_NPI_NBR,
    SCT.CP_SETL_DT,
    SCT.CP_PAYMENT_TYPE_INDICATOR,
    SCT.PROV_KEY_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.NR_RET_REASON_DESC,
    SCT.UCP_ORIG_BPR01_CD,
    pyr.PAYR_DSPL_NM,
    pyr.PAYR_835_ID,
    BA.BNK_NM,
    pm.PAY_METH_SHRT_DESC,
    pm.PAY_METH_DESC,
    pst.TYP_DESC
FROM
    ole.SRCH_CONSOL_TBL SCT
LEFT JOIN
    ole.payer pyr
ON
    pyr.PAYR_835_ID = SCT.PYR_SEC_PAYR_ID
LEFT JOIN
    ole.PAYER_BANKING_ACCOUNT BA
ON
    BA.PAYR_BNK_ACCT_ID = sct.CP_PAYR_BNK_ACCT_ID
LEFT JOIN
    ole.pay_meth pm
ON
    pm.PAY_METH_CD = SCT.CP_PAY_METH_CD
LEFT JOIN
    OLE.PAY_STS_TYP pst
ON
    pst.PAY_STS_TYP_ID = SCT.CP_PAY_STS_TYP_ID
LEFT JOIN
    OLE.EPRA_STATUS epra
ON
    epra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND epra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
LEFT JOIN
    OLE.PPRA_STATUS ppra
ON
    ppra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND ppra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
WHERE
    SCT.PROV_TAX_ID_NBR = '010640813'
AND sct.CP_SETL_DT >=   '2018-01-22' 
AND sct.CP_SETL_DT <= '2018-02-21'
AND SCT.UCP_UCONSL_PROC_IND = 'Y'
AND (
        epra.EPRA_STATUS_ID IS NULL
    OR  epra.EPRA_STATUS_ID =
        (
            SELECT
                MAX(epra1.EPRA_STATUS_ID)
            FROM
                OLE.EPRA_STATUS epra1
            WHERE
                epra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND epra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND (
        ppra.PPRA_STATUS_ID IS NULL
    OR  ppra.PPRA_STATUS_ID =
        (
            SELECT
                MAX(ppra1.PPRA_STATUS_ID)
            FROM
                OLE.PPRA_STATUS ppra1
            WHERE
                ppra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND ppra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND sct.PAYR_SCHM_NM IN ('PP009',
                         'PP008',
                         'PP004',
                         'PP031',
                         'PP007',
                         'PP002',
                         'PP042',
                         'PP038',
                         'PP041',
                         'PP023',
                         'PP025',
                         'PP035',
                         'PP036',
                         'PP034',
                         'PP029',
                         'PP015',
                         'PP014',
                         'PP001',
                         'PP016')
AND sct.PYR_SEC_PAYR_ID IN ('37602',
                            '95467',
                            '36273',
                            '81779',
                            '06111',
                            '19402',
                            '94265',
                            '66214',
                            'ECHOH',
                            '81400',
                            '07689',
                            'SCMS1',
                            '62952',
                            '77082',
                            'UMR01',
                            'TEX01',
                            '87726',
                            '99726',
                            '04567' ) )'</font></br><br/>
<font color='Black'>Connecting to Stage DB:-jdbc:db2://dbsps0011:50000/PPSPS</font></br><br/>
<font color='Black'>Connection succeeded</font></br><br/>
<font color='Green'>Record Count is not present</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Last 9-13 monthsfrom dropdown</font></br><br/>
<font color='Black'>Waiting for 5 seconds</font></br><br/>
<font color='Black'>SelectSelect Show Allfrom dropdown</font></br><br/>
<font color=''>Executing the query - 'select COUNT(*)  AS RECORD_COUNT from
  (SELECT  DISTINCT SCT.UCP_CONSL_PAY_NBR,
    SCT.CP_ARCHV_IND,
    SCT.CPD_CHK_NBR,
    SCT.CPD_CHK_DT,
    SCT.NR_PAY_METH_CD,
    SCT.NR_RET_DT,
    SCT.NR_RET_REASON_CD,
    SCT.NR_RET_STS_CD,
    SCT.NR_RET_TYP_CD,
    SCT.PYR_SEC_PAYR_ID,
    SCT.CP_PAY_STS_TYP_ID,
    SCT.RN_REORIG_NACHA_ID,
    SCT.RN_CHECK_NBR,
    SCT.RN_SETL_DT,
    SCT.RN_REORIG_STS_CD,
    SCT.RN_RN_TRACE_NBR,
    SCT.CP_TRACE_NBR,
    SCT.PAYR_SCHM_NM,
    SCT.CP_PROXY_ID,
    SCT.CP_PAY_METH_CD,
    SCT.CP_PAY_STS_TYP_DTTM,
    SCT.CP_CONSL_AMT,
    SCT.CP_DSPL_CONSL_PAY_NBR,
    SCT.PROV_NPI_NBR,
    SCT.CP_SETL_DT,
    SCT.CP_PAYMENT_TYPE_INDICATOR,
    SCT.PROV_KEY_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.PYR_PRI_PAYR_ID,
    SCT.NR_RET_REASON_DESC,
    SCT.UCP_ORIG_BPR01_CD,
    pyr.PAYR_DSPL_NM,
    pyr.PAYR_835_ID,
    BA.BNK_NM,
    pm.PAY_METH_SHRT_DESC,
    pm.PAY_METH_DESC,
    pst.TYP_DESC
FROM
    ole.SRCH_CONSOL_TBL SCT
LEFT JOIN
    ole.payer pyr
ON
    pyr.PAYR_835_ID = SCT.PYR_SEC_PAYR_ID
LEFT JOIN
    ole.PAYER_BANKING_ACCOUNT BA
ON
    BA.PAYR_BNK_ACCT_ID = sct.CP_PAYR_BNK_ACCT_ID
LEFT JOIN
    ole.pay_meth pm
ON
    pm.PAY_METH_CD = SCT.CP_PAY_METH_CD
LEFT JOIN
    OLE.PAY_STS_TYP pst
ON
    pst.PAY_STS_TYP_ID = SCT.CP_PAY_STS_TYP_ID
LEFT JOIN
    OLE.EPRA_STATUS epra
ON
    epra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND epra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
LEFT JOIN
    OLE.PPRA_STATUS ppra
ON
    ppra.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
AND ppra.PAYR_SCHM_NM = sct.PAYR_SCHM_NM
WHERE
    SCT.PROV_TAX_ID_NBR = '010640813'
AND sct.CP_SETL_DT >=   '2017-01-21' 
AND sct.CP_SETL_DT <= '2017-06-21'
AND SCT.UCP_UCONSL_PROC_IND = 'Y'
AND (
        epra.EPRA_STATUS_ID IS NULL
    OR  epra.EPRA_STATUS_ID =
        (
            SELECT
                MAX(epra1.EPRA_STATUS_ID)
            FROM
                OLE.EPRA_STATUS epra1
            WHERE
                epra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND epra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND (
        ppra.PPRA_STATUS_ID IS NULL
    OR  ppra.PPRA_STATUS_ID =
        (
            SELECT
                MAX(ppra1.PPRA_STATUS_ID)
            FROM
                OLE.PPRA_STATUS ppra1
            WHERE
                ppra1.CONSL_PAY_NBR = sct.UCP_CONSL_PAY_NBR
            AND ppra1.PAYR_SCHM_NM = sct.PAYR_SCHM_NM ) )
AND sct.PAYR_SCHM_NM IN ('PP009',
                         'PP008',
                         'PP004',
                         'PP031',
                         'PP007',
                         'PP002',
                         'PP042',
                         'PP038',
                         'PP041',
                         'PP023',
                         'PP025',
                         'PP035',
                         'PP036',
                         'PP034',
                         'PP029',
                         'PP015',
                         'PP014',
                         'PP001',
                         'PP016')
AND sct.PYR_SEC_PAYR_ID IN ('37602',
                            '95467',
                            '36273',
                            '81779',
                            '06111',
                            '19402',
                            '94265',
                            '66214',
                            'ECHOH',
                            '81400',
                            '07689',
                            'SCMS1',
                            '62952',
                            '77082',
                            'UMR01',
                            'TEX01',
                            '87726',
                            '99726',
                            '04567' ) )'</font></br><br/>
<font color='Black'>Connecting to Stage DB:-jdbc:db2://dbsps0011:50000/PPSPS</font></br><br/>
<font color='Black'>Connection succeeded</font></br><br/>
<font color='Green'>Passed comparison of Number of records in view payments Expected was : 76 Actual is : 76</font></br><br/>
</div>
</td>
<td></td>
<td>73</td>
<td>test.java.TestViewPayments@554e218</td></tr>
</table><p>
</body>
</html>